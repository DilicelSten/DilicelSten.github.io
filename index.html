<!doctype html>



  


<html class="theme-next pisces use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.0" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Hexo, NexT" />








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.1.0" />






<meta name="description" content="Keep moving">
<meta property="og:type" content="website">
<meta property="og:title" content="DilicelSten's blog">
<meta property="og:url" content="http://yoursite.com/index.html">
<meta property="og:site_name" content="DilicelSten's blog">
<meta property="og:description" content="Keep moving">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="DilicelSten's blog">
<meta name="twitter:description" content="Keep moving">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    sidebar: {"position":"left","display":"post","offset":12,"offset_float":0,"b2t":false,"scrollpercent":false},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/"/>





  <title> DilicelSten's blog </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  














  
  
    
  

  <div class="container sidebar-position-left 
   page-home 
 ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">DilicelSten's blog</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            关于
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-sitemap">
          <a href="/sitemap.xml" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-sitemap"></i> <br />
            
            站点地图
          </a>
        </li>
      
        
        <li class="menu-item menu-item-commonweal">
          <a href="/404.html" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-heartbeat"></i> <br />
            
            公益404
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/04/05/贝叶斯/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="DilicelSten">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/uploads/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="DilicelSten's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/04/05/贝叶斯/" itemprop="url">
                  基于朴素贝叶斯的兴趣分类
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-04-05T18:50:09+08:00">
                2017-04-05
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>寒假期间使用了朴素贝叶斯算法对用户画像中的用户兴趣进行了分类，然而最终预测的准确率以及召回率却不尽如人意，这里就谈谈朴素贝叶斯算法的使用以及我对此次失败的一个小小反思吧~</p>
<h1 id="关于分类"><a href="#关于分类" class="headerlink" title="关于分类"></a>关于分类</h1><p><strong>分类</strong>是将一个<strong>未知样本</strong>分到几个<strong>预先已知类</strong>的过程。在众多的分类模型中，应用最为广泛的两种分类模型是<strong>决策树模型</strong>(Decision Tree Model)和<strong>朴素贝叶斯模型</strong>（Naive Bayesian Model，NBC）。</p>
<table>
<thead>
<tr>
<th>分类模型</th>
<th>优点</th>
<th>缺点</th>
</tr>
</thead>
<tbody>
<tr>
<td>决策树</td>
<td>根据决策树可以很容易地构造出规则，而规则通常易于解释和理解；决策树可很好地扩展到大型数据库中，同时它的大小独立于数据库的大小；决策树模型的另外一大优点就是可以对有许多属性的数据集构造决策树。</td>
<td>处理缺失数据时的困难，过度拟合问题的出现，以及忽略数据集中属性之间的相关性等。</td>
</tr>
<tr>
<td>朴素贝叶斯</td>
<td>有稳定的分类效率。对小规模的数据表现很好，能个处理多分类任务，适合增量式训练，尤其是数据量超出内存时，我们可以一批批的去增量训练。对缺失数据不太敏感，算法也比较简单，常用于文本分类。</td>
<td>需要知道先验概率，且先验概率很多时候取决于假设，假设的模型可以有很多种，因此在某些时候会由于假设的先验模型的原因导致预测效果不佳。</td>
</tr>
</tbody>
</table>
<h1 id="关于朴素贝叶斯"><a href="#关于朴素贝叶斯" class="headerlink" title="关于朴素贝叶斯"></a>关于朴素贝叶斯</h1><p><strong>朴素贝叶斯法</strong>是基于贝叶斯定理与特征条件独立假设的分类方法。朴素贝叶斯分类器模型会给问题实例分配用特征值表示的类标签，类标签取自有限集合。<strong>朴素贝叶斯分类器</strong>基于一个简单的假定：<strong>给定目标值时属性之间相互条件独立</strong>。举个例子，如果一种水果其具有红，圆，直径大概3英寸等特征，该水果可以被判定为是苹果。尽管这些特征相互依赖或者有些特征由其他特征决定，然而朴素贝叶斯分类器认为这些属性在判定该水果是否为苹果的概率分布上独立的。<br>关于朴素贝叶斯的原理网上资料很多，具体内容可以参考此博客：<a href="http://www.cnblogs.com/leoo2sk/archive/2010/09/17/naive-bayesian-classifier.html" target="_blank" rel="external">http://www.cnblogs.com/leoo2sk/archive/2010/09/17/naive-bayesian-classifier.html</a></p>
<h1 id="项目思路"><a href="#项目思路" class="headerlink" title="项目思路"></a>项目思路</h1><h4 id="1-确定分类"><a href="#1-确定分类" class="headerlink" title="1.确定分类"></a>1.<strong>确定分类</strong></h4><p>我们是按照微博的兴趣分类将兴趣分为24个类别，并赋予特征词大约每个类别500个，将每个类别放置在一个txt文件中<br><img src="http://img.blog.csdn.net/20170210214823996?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcXFfMzA4NDMyMjE=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="此处输入图片的描述"></p>
<h4 id="2-获取标签特征"><a href="#2-获取标签特征" class="headerlink" title="2.获取标签特征"></a>2.<strong>获取标签特征</strong></h4><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//获取标签特征词(！！发现隐藏文件，由于使用过gedit打开过)，形成一个vocabulary</span></div><div class="line">		List&lt;String &gt; vocabulary = <span class="keyword">new</span> ArrayList&lt;String&gt;();</div><div class="line">		File dir = <span class="keyword">new</span> File(<span class="string">"/home/hadoop/项目内容/类别库"</span>);</div><div class="line">		File[] files = dir.listFiles();   <span class="comment">//获取不同类别的标签文件</span></div><div class="line">		System.out.println(files.length);</div><div class="line">		StringBuilder sb = <span class="keyword">new</span> StringBuilder();</div><div class="line">		<span class="keyword">for</span>(File file : files)&#123;</div><div class="line">			BufferedReader br = <span class="keyword">new</span> BufferedReader(<span class="keyword">new</span> FileReader(file));</div><div class="line">			String line = <span class="keyword">null</span>;</div><div class="line">			<span class="keyword">while</span>((line =  br.readLine()) != <span class="keyword">null</span>)&#123;</div><div class="line">				sb.append(line);  <span class="comment">//按"`"分割不同类别的标签</span></div><div class="line">			&#125;</div><div class="line">			sb.append(line + <span class="string">"`"</span>);</div><div class="line">		&#125;</div><div class="line">		String[] tags = sb.toString().trim().split(<span class="string">"`"</span>);</div><div class="line">		List&lt;String&gt; newTags = <span class="keyword">new</span> ArrayList&lt;String&gt;();</div><div class="line">		<span class="keyword">for</span>(String tag: tags)&#123;</div><div class="line">			<span class="keyword">if</span>(tag.length() &gt; <span class="number">4</span>)&#123;</div><div class="line">				newTags.add(tag); <span class="comment">//去除空行标签</span></div><div class="line">			&#125;</div><div class="line">		&#125;</div><div class="line">		Object[] newtags = newTags.toArray();</div><div class="line">		List&lt;Tuple2&lt;Integer,String&gt;&gt; list = <span class="keyword">new</span> ArrayList&lt;Tuple2&lt;Integer,String&gt;&gt;();  <span class="comment">//记录每类中的标签</span></div><div class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i&lt;newtags.length;i++)&#123;</div><div class="line">			Tuple2&lt;Integer,String&gt; classWithTags = <span class="keyword">new</span> Tuple2&lt;Integer, String&gt;(i,(String)newtags[i]);</div><div class="line">			System.out.println(classWithTags);</div><div class="line">			list.add(classWithTags);</div><div class="line">			String[] tokens = ((String)newtags[i]).split(<span class="string">"/"</span>);</div><div class="line">			<span class="keyword">for</span>(String tag: tokens)&#123;</div><div class="line">				vocabulary.add(tag);</div><div class="line">			&#125;</div><div class="line">		&#125;</div></pre></td></tr></table></figure>
<h4 id="3-获取训练样本"><a href="#3-获取训练样本" class="headerlink" title="3.获取训练样本"></a>3.<strong>获取训练样本</strong></h4><p>此处的训练样本则为各个分类的特征词~<br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//获取训练样本</span></div><div class="line">		JavaPairRDD&lt;Integer,String&gt; trainRDD = sc.parallelizePairs(list);   <span class="comment">//将每类的标签词转化为RDD</span></div><div class="line">		JavaPairRDD&lt;Integer,String&gt; trainSetRDD = trainRDD.mapValues(<span class="keyword">new</span> ToTrainSet(vocabulary));  <span class="comment">//将标签词转化为向量模型</span></div><div class="line">		List&lt;Tuple2&lt;Integer,String&gt;&gt; trainSet = trainSetRDD.collect();</div><div class="line">		writeTrainSet(trainSet);  <span class="comment">//写成libsvm文件格式，以方便训练</span></div><div class="line">		System.out.println(<span class="string">"trainset is ok"</span>);</div></pre></td></tr></table></figure></p>
<h4 id="4-训练模型"><a href="#4-训练模型" class="headerlink" title="4.训练模型"></a>4.<strong>训练模型</strong></h4><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//读取训练集并训练模型</span></div><div class="line">		String path = <span class="string">"./trainset"</span>;</div><div class="line">		JavaRDD&lt;LabeledPoint&gt; trainData = MLUtils.loadLibSVMFile(sc.sc(),path).toJavaRDD();</div><div class="line">		model = NaiveBayes.train(trainData.rdd(),<span class="number">1.0</span>);</div><div class="line">		System.out.println(<span class="string">"model is ok"</span>);</div></pre></td></tr></table></figure>
<h4 id="5-预测测试集"><a href="#5-预测测试集" class="headerlink" title="5.预测测试集"></a>5.<strong>预测测试集</strong></h4><p>测试集是挑选每个用户关注的大V及其简介， 利用HanLP进行切词<br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//读取txt文件并利用hanlp切词形成一个list，作为测试样本</span></div><div class="line">		String filepath = <span class="string">"/home/hadoop/result/19岁金鱼想当歌手.txt"</span>;</div><div class="line">		File inputfile = <span class="keyword">new</span> File(filepath);</div><div class="line">		rewriteFile(filepath);</div><div class="line">		String content = readTxtFile(inputfile); <span class="comment">//获取txt的内容</span></div><div class="line">		System.out.print(content);</div><div class="line">		Segment segment = HanLP.newSegment();</div><div class="line">		List&lt;Term&gt; termList = segment.seg(content); <span class="comment">//用Hanlp进行切词形成List</span></div><div class="line">		<span class="keyword">for</span>(Term term : termList)&#123;</div><div class="line">            testStr += term.word + <span class="string">" "</span>;  <span class="comment">//使用term.word去掉属性部分</span></div><div class="line">        &#125;</div><div class="line"><span class="comment">//预测测试集</span></div><div class="line">		<span class="keyword">double</span>[] testArray = sentenceToArrays(vocabulary,testStr);</div><div class="line">		writeTestSet(testArray);</div><div class="line">		String testPath = <span class="string">"./testset"</span>;</div><div class="line">		JavaRDD&lt;LabeledPoint&gt; testData = MLUtils.loadLibSVMFile(sc.sc(), testPath).toJavaRDD();</div></pre></td></tr></table></figure></p>
<h4 id="6-选取概率值前三的兴趣存档"><a href="#6-选取概率值前三的兴趣存档" class="headerlink" title="6.选取概率值前三的兴趣存档"></a>6.<strong>选取概率值前三的兴趣存档</strong></h4><p>即每个用户确定3个兴趣</p>
<p>#预测效果<br>对每个用户的兴趣进行分类后，为了验证算法的准确率以及召回率，我是随机选择了500个用户进行人工标注其兴趣，兴趣的个数不限，后利用公式<br><img src="http://oh4g14vir.bkt.clouddn.com/%E9%A2%84%E6%B5%8B%E5%85%AC%E7%A4%BA.jpg" alt="此处输入图片的描述"><br>代码实现如下：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div></pre></td><td class="code"><pre><div class="line">Map&lt;String,String&gt; human = new HashMap&lt;String,String&gt;();</div><div class="line">		Map&lt;String,String&gt; predict = new HashMap&lt;String,String&gt;();</div><div class="line">		String humanpath = &quot;/home/hadoop/Seeing项目内容/result/人工标注/人工标注用户&quot;;</div><div class="line">		String predictpath = &quot;/home/hadoop/Seeing项目内容/result/人工标注/新机器&quot;;</div><div class="line">		//将人工标注的放于human中</div><div class="line">		BufferedReader human_br = new BufferedReader(new FileReader(new File(humanpath)));</div><div class="line">		String human_interest = &quot;&quot;;</div><div class="line">		while((human_interest = human_br.readLine()) != null)&#123;</div><div class="line">			String[] content = human_interest.split(&quot;	&quot;);</div><div class="line">			human.put(content[0], content[1]);		</div><div class="line">			&#125;</div><div class="line">		//将机器标注的放于predict中</div><div class="line">		BufferedReader predict_br = new BufferedReader(new FileReader(new File(predictpath)));</div><div class="line">		String predict_interest = &quot;&quot;;</div><div class="line">		while((predict_interest = predict_br.readLine()) != null)&#123;</div><div class="line">			String[] content1 = predict_interest.split(&quot;	&quot;);</div><div class="line">			predict.put(content1[0], content1[1]);</div><div class="line">		&#125;</div><div class="line">		//计算准确率和召回率</div><div class="line">		//先转成set</div><div class="line">		Set human_set = human.entrySet();</div><div class="line">		Set predict_set = predict.entrySet();</div><div class="line">		int i  = 0;</div><div class="line">		double accuracy = 0;</div><div class="line">		double recall = 0;</div><div class="line">		for(Iterator iter1 = predict_set.iterator(); iter1.hasNext();)&#123;</div><div class="line">			String[] predictinterests = &#123;&#125;;</div><div class="line">			String[] humaninterests = &#123;&#125;;</div><div class="line">			//交集个数</div><div class="line">			double  result_insect =0;</div><div class="line">			Map.Entry&lt;String , String&gt; entry1 = (Map.Entry&lt;String, String&gt;) iter1.next();</div><div class="line">			String predictkey = entry1.getKey();</div><div class="line">			String predictvalue = entry1.getValue();</div><div class="line">			predictinterests = predictvalue.split(&quot;,&quot;);</div><div class="line">			for(Iterator iter2 = human_set.iterator();iter2.hasNext();)&#123;</div><div class="line">				Map.Entry&lt;String, String&gt; entry2 = (Map.Entry&lt;String, String&gt;) iter2.next();</div><div class="line">				String humankey = entry2.getKey();</div><div class="line">				String humanvalue = entry2.getValue();</div><div class="line">//				System.out.println(humanvalue);</div><div class="line">				humaninterests = humanvalue.split(&quot;,&quot;);</div><div class="line">				if(humankey.equals(predictkey))&#123;</div><div class="line">					//求交集</div><div class="line">					i++;</div><div class="line">					result_insect = intersect(predictinterests, humaninterests);</div><div class="line">//					System.out.println(result_insect);</div><div class="line">					double a = predictinterests.length;</div><div class="line">					double b = humaninterests.length;</div><div class="line">					accuracy = (result_insect/predictinterests.length + accuracy*(i-1))/i;</div><div class="line">					recall =( result_insect/humaninterests.length + recall *(i-1))/i;</div><div class="line">//					System.out.println(i+ &quot; &quot;+ result_insect + &quot; &quot;+ a + &quot; &quot;+ b);</div><div class="line">				&#125;</div></pre></td></tr></table></figure></p>
<p>结果如图：<br><img src="http://oh4g14vir.bkt.clouddn.com/%E5%87%86%E7%A1%AE%E7%8E%87.jpg" alt="此处输入图片的描述"></p>
<p>#反思<br>准确率和召回率都惊人的低，个人感觉原因应该有以下几点：<br>1.人工标注会有些疏忽，另外就是微博兴趣的特征词所构建的词典会随时间的问题有一些特征词不再适用；<br>2.朴素贝叶斯本身的缺点导致，由于我们是通过先验和数据来决定后验的概率从而决定分类，所以分类决策存在一定的错误率。<br>3.朴素贝叶斯模型假设属性之间相互独立，这个假设在实际应用中往往是不成立的，在属性个数比较多或者属性之间相关性较大时，分类效果不好。而在属性相关性较小时，朴素贝叶斯性能最为良好。对于这一点，有半朴素贝叶斯之类的算法通过考虑部分关联性适度改进。</p>
<p>接下来会继续改进兴趣分类的实现，各位大佬走过路过也可以提提建议~谢谢O(∩_∩)O</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/04/03/【实用】把jar转换成exe文件/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="DilicelSten">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/uploads/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="DilicelSten's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/04/03/【实用】把jar转换成exe文件/" itemprop="url">
                  【实用】把jar转换成exe文件
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-04-03T00:47:52+08:00">
                2017-04-03
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>上课后写博客的时间就少了，趁着清明假期把之前学到的一些东西整理一下~之前由于项目需要爬取很大的数据量，在机房用了多台电脑去爬取数据，但是很麻烦的一点就是得“搬”代码还要进行相应的配置，后来了解到jar转exe的做法感觉很便利~接下来就和大家分享一下&gt;_&lt;<br>PS：以下所阐述均基于已安装jdk的电脑</p>
<h1 id="工具及材料"><a href="#工具及材料" class="headerlink" title="工具及材料"></a>工具及材料</h1><h4 id="1-NetBeans"><a href="#1-NetBeans" class="headerlink" title="1.NetBeans"></a>1.<strong>NetBeans</strong></h4><h4 id="2-exe4j"><a href="#2-exe4j" class="headerlink" title="2.exe4j"></a>2.<strong>exe4j</strong></h4><p>Windows64位的下载地址：<a href="http://pan.baidu.com/s/1dEPV1fV" target="_blank" rel="external">http://pan.baidu.com/s/1dEPV1fV</a><br>PS：exe4j有点小傲娇，优点是<strong>集打包和捆绑jre</strong>为一体，支持透明通道的Splash窗口，而且没有那么一堆配置文件，但是缺点是操作复杂，而且想改路径得重新打包，安装的过程中可能会出现以下情况：<br><img src="http://img.bbs.csdn.net/upload/201308/27/1377589340_770688.jpg" alt="此处输入图片的描述"><br>不用担心，主要是你的电脑的jdk版本太高了，这个时候去<strong>下载个1.6版本</strong>的jdk就可以了</p>
<h4 id="3-ico格式的图标文件"><a href="#3-ico格式的图标文件" class="headerlink" title="3.ico格式的图标文件"></a>3.<strong>ico格式的图标文件</strong></h4><p>将图片转换成icon格式的网站：<a href="http://www.ico.la/" target="_blank" rel="external">http://www.ico.la/</a></p>
<h1 id="操作步骤"><a href="#操作步骤" class="headerlink" title="操作步骤"></a>操作步骤</h1><h4 id="1-创建文件夹"><a href="#1-创建文件夹" class="headerlink" title="1.创建文件夹"></a>1.<strong>创建文件夹</strong></h4><p>创建一个文件夹（作为打包输出目录），把jre文件夹放进来（打包输出路径不要是源jar文件所在目录或其子文件夹，这样会导致exe4j找不到主类）</p>
<h4 id="2-构建jar文件"><a href="#2-构建jar文件" class="headerlink" title="2.构建jar文件"></a>2.<strong>构建jar文件</strong></h4><p>这里使用的是NetBeans直接构建比较方便快捷，过程如图：<br><img src="http://oh4g14vir.bkt.clouddn.com/%E6%9E%84%E5%BB%BAjar.png" alt="此处输入图片的描述"><br>点击清理并构建即可，然后在存放项目的文件夹的dist文件夹下就可以找到相应的jar包<br>PS：如果你用eclipse构建jar包可以参考此博客：<a href="http://yukimomo.iteye.com/blog/1297537" target="_blank" rel="external">http://yukimomo.iteye.com/blog/1297537</a><br>此外，要保证代码的编写jdk环境要为1.6版本，否则最后生成的exe文件无法使用</p>
<h4 id="3-生成exe文件"><a href="#3-生成exe文件" class="headerlink" title="3.生成exe文件"></a>3.<strong>生成exe文件</strong></h4><p>接下来就是exe4j的操作过程了：<br>（1）<strong>激活exe4j</strong><br><img src="http://oh4g14vir.bkt.clouddn.com/exe4j1.png" alt="此处输入图片的描述"><br>在License Information处，去网上随便找激活码写入即可~<br>（2）<strong>选择jar in exe</strong><br><img src="http://imgsrc.baidu.com/forum/w=580/sign=ca225de1a41ea8d38a22740ca70b30cf/a085b312c8fcc3ce3a2523699045d688d53f201d.jpg" alt="此处输入图片的描述"><br>（3）<strong>输出路径</strong><br><img src="http://oh4g14vir.bkt.clouddn.com/exe4j2.png" alt="此处输入图片的描述"><br>（4）<strong>配置信息</strong><br><img src="http://oh4g14vir.bkt.clouddn.com/exe4j3.png" alt="此处输入图片的描述"><br>记得选择32位还是64位！！<br>（5）<strong>添加jar包确认主类</strong><br><img src="http://imgsrc.baidu.com/forum/w=580/sign=4b8d6e5f31fa828bd1239debcd1e41cd/2a84788b4710b9123f4f1ca4c1fdfc0393452270.jpg" alt="此处输入图片的描述"><br>点击绿色的按钮，选择项目所需jar包，后在红色框框中选择主类即可<br>（6）<strong>配置JRE</strong><br><img src="http://imgsrc.baidu.com/forum/w=580/sign=d21178eccb177f3e1034fc0540ce3bb9/4357771ed21b0ef4180c7204dfc451da80cb3e1d.jpg" alt="此处输入图片的描述"><br><img src="http://imgsrc.baidu.com/forum/w=580/sign=546022754334970a47731027a5cbd1c0/245bc9fdfc0392452a3b0b558594a4c27c1e2570.jpg" alt="此处输入图片的描述"><br><img src="http://imgsrc.baidu.com/forum/w=580/sign=79e7b863cb3d70cf4cfaaa05c8ddd1ba/e96111d5ad6eddc457035ea13bdbb6fd5366331d.jpg" alt="此处输入图片的描述"><br>在Advanced Options中选择Search Sequence中选择JRE文件即可，最后记得把它置顶！！！<br>（7）<strong>设置Splash</strong><br>单选框第一个是无Splash窗口，第二个的Splash窗口是不支持透明通道的，第三个Splash窗口支持透明通道，但是必须jre6以上<br><img src="http://imgsrc.baidu.com/forum/w=580/sign=dcd965cbcf11728b302d8c2af8fdc3b3/51685866d0160924a6c14841d60735fae7cd341d.jpg" alt="此处输入图片的描述"><br>后面直接next就好了~</p>
<p>这样一个exe文件就搞定了！</p>
<p>参考资料：百度贴吧</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/03/06/Spark实现SVM模型/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="DilicelSten">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/uploads/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="DilicelSten's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/03/06/Spark实现SVM模型/" itemprop="url">
                  Spark实现SVM模型
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-03-06T21:22:02+08:00">
                2017-03-06
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="关于SVM算法"><a href="#关于SVM算法" class="headerlink" title="关于SVM算法"></a>关于SVM算法</h2><p><strong>SVM</strong>，即<strong>Support Vector Machine</strong>（支持向量机），是一种使用<strong>线性</strong>分割平面的<strong>二元分类</strong>算法。其原理是通过寻求结构化风险最小来提高学习机泛化能力，实现经验风险和置信范围的最小化，从而达到在统计样本量较少的情况下，亦能获得良好统计规律的目的。其基本模型定义为特征空间上的<strong>间隔最大</strong>的线性分类器，即支持向量机的学习策略便是间隔最大化，最终可转化为一个凸二次规划问题的求解。<br>如图所示：<br><img src="http://img.blog.csdn.net/20131207152228953" alt="此处输入图片的描述"><br>更多详细内容可查看：<a href="http://blog.csdn.net/v_july_v/article/details/7624837。" target="_blank" rel="external">http://blog.csdn.net/v_july_v/article/details/7624837。</a></p>
<h2 id="SVM的优与劣"><a href="#SVM的优与劣" class="headerlink" title="SVM的优与劣"></a>SVM的优与劣</h2><table>
<thead>
<tr>
<th style="text-align:center">SVM</th>
<th style="text-align:left">优点</th>
<th style="text-align:left">缺点</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">1</td>
<td style="text-align:left">利用内积核函数代替向高维空间的非线性映射;<strong>简化</strong>了通常的分类和回归等问题</td>
<td style="text-align:left"><strong>对大规模训练样本难以实施</strong>：由于SVM是借助二次规划来求解支持向量，而求解二次规划将涉及m阶矩阵的计算（m为样本的个数），当m数目很大时该矩阵的存储和计算将耗费大量的机器内存和运算时间。</td>
</tr>
<tr>
<td style="text-align:center">2</td>
<td style="text-align:left"><strong>少数支持向量决定了最终结果</strong>:这不但可以帮助我们抓住关键样本、“剔除”大量冗余样本,而且注定了该方法不但算法简单,而且具有较好的“鲁棒”性。</td>
<td style="text-align:left"><strong>解决多分类问题存在困难</strong>：经典的支持向量机算法只给出了二类分类的算法，而在数据挖掘的实际应用中，一般要解决多类的分类问题。</td>
</tr>
</tbody>
</table>
<h2 id="Spark实现SVM算法（Java）"><a href="#Spark实现SVM算法（Java）" class="headerlink" title="Spark实现SVM算法（Java）"></a>Spark实现SVM算法（Java）</h2><p>SVM作为一种二元分类算法，同样只预期0或1的标签。通过SVMWithSGD类，我们可以访问这种算法，它的参数与线性回归和逻辑回归的参数差不多。返回的SVMModel与LogisticRegressionModel一样使用阈值的方式进行预测。<br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//进行Spark的配置</span></div><div class="line">		SparkConf conf = <span class="keyword">new</span> SparkConf().setAppName(<span class="string">"GMM"</span>).setMaster(<span class="string">"local"</span>);</div><div class="line">		conf.set(<span class="string">"spark.testing.memory"</span>,<span class="string">"2147480000"</span>);    <span class="comment">//Spark的运行配置，意指占用内存2G</span></div><div class="line">		JavaSparkContext sc = <span class="keyword">new</span> JavaSparkContext(conf);</div></pre></td></tr></table></figure></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">//获取训练样本</div><div class="line">		JavaPairRDD&lt;Integer,String&gt; trainRDD = sc.parallelizePairs(list);   //将每类的标签词转化为RDD</div><div class="line">		JavaPairRDD&lt;Integer,String&gt; trainSetRDD = trainRDD.mapValues(new ToTrainSet(vocabulary));  //将标签词转化为向量模型</div><div class="line">		List&lt;Tuple2&lt;Integer,String&gt;&gt; trainSet = trainSetRDD.collect();</div><div class="line">		writeTrainSet(trainSet);  //写成libsvm文件格式，以方便训练</div><div class="line">		System.out.println(&quot;trainset is ok&quot;);</div><div class="line">		</div><div class="line">		//读取训练集并训练模型</div><div class="line">		String path = &quot;./trainset&quot;;</div><div class="line">		JavaRDD&lt;LabeledPoint&gt; trainData = MLUtils.loadLibSVMFile(sc.sc(),path).toJavaRDD()</div></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">//测试集生成</div><div class="line">double []  d = &#123;1,1,2&#125;;</div><div class="line">Vector v =  Vectors.dense(d);//测试对象为单个vector，或者是ＲＤＤ化后的vector</div></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">//支持向量机</div><div class="line">      int numIterations = 100;//迭代次数</div><div class="line">      final SVMModel svm_model = SVMWithSGD.train(trainData.rdd(), numIterations);//构建模型</div><div class="line">      System.out.println(svm_model.predict(v));</div></pre></td></tr></table></figure>
<p>参考资料：<br>1.SVM的优缺点<br>2.Spark MLlib SVM算法</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/03/05/Mongodb的安装及简单使用/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="DilicelSten">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/uploads/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="DilicelSten's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/03/05/Mongodb的安装及简单使用/" itemprop="url">
                  Mongodb的安装及简单使用
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-03-05T10:49:38+08:00">
                2017-03-05
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="关于Mongodb"><a href="#关于Mongodb" class="headerlink" title="关于Mongodb"></a>关于Mongodb</h2><p>Mongodb是一个基于分布式文件存储的数据库。它最大的特点是他支持的查询语言非常强大，其语法有点类似于面向对象的查询语言，几乎可以实现类似关系数据库单表查询的绝大部分功能，而且还支持对数据建立索引。MongoDB 将数据存储为一个文档，数据结构由键值(key=&gt;value)对组成。MongoDB 文档类似于 JSON 对象。字段值可以包含其他文档，数组及文档数组。如下所示：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">&#123;</div><div class="line">&quot;name&quot;:&quot;DilicelSten&quot;,</div><div class="line">&quot;age&quot;:18,</div><div class="line">&quot;hobby&quot;:[&quot;swimming&quot;,&quot;dancing&quot;]</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<h2 id="Mongodb的安装"><a href="#Mongodb的安装" class="headerlink" title="Mongodb的安装"></a>Mongodb的安装</h2><p>在ubtuntu上可以直接输以下命令行<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">sudo apt-get install mongodb</div></pre></td></tr></table></figure></p>
<p>安装完之后还需要进行配置<br>这里可参考：<a href="http://unixlzx.blog.163.com/blog/static/102773752201361694345381/" target="_blank" rel="external">http://unixlzx.blog.163.com/blog/static/102773752201361694345381/</a><br>里面已经有详细的步骤介绍，接下来讲讲mongodb中的一些常用的操作：<br>（1）开启mongodb服务<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">sudo service mongodb start</div></pre></td></tr></table></figure></p>
<p>（2）关闭mongodb服务<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">sudo service mongodb stop</div></pre></td></tr></table></figure></p>
<p>（3）修复命令<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">mongod -repair</div></pre></td></tr></table></figure></p>
<h2 id="Mongodb的使用"><a href="#Mongodb的使用" class="headerlink" title="Mongodb的使用"></a>Mongodb的使用</h2><p>在终端中输入mongo即可连接数据库，mongodb的使用与mysql是很相似的，下表是mongodb的一些术语：<br>|mysql术语|mongodb术语|解释|<br>| :—–:   | :—–:   | :——-:   |<br>|database|database|数据库|<br>|table|collention|数据库表/集合|<br>|row|document|数据记录行/文档|<br>|column|field|数据字段/域|<br>|index|index|索引|<br>|primary key|primary key|主键,MongoDB自动将_id字段设置为主键|<br>常用命令：<br>（1）操作前都需使用相关的数据库<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">show dbs    //查看数据库</div><div class="line">use XXX     //使用XXX数据库</div></pre></td></tr></table></figure></p>
<p>（2）建表存储数据<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">show collections   //查看其中的表</div><div class="line">db.XXX.find()   //查看表中数据（XXX为collection的名字）</div></pre></td></tr></table></figure></p>
<p>（3）插入数据<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">db.col.insert(&#123;</div><div class="line">&quot;name&quot;:&quot;DilicelSten&quot;,</div><div class="line">&quot;age&quot;:18,</div><div class="line">&quot;hobby&quot;:[&quot;swimming&quot;,&quot;dancing&quot;]</div><div class="line">&#125;)</div></pre></td></tr></table></figure></p>
<p>（3）远程连接<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">mongo 192.168.235.20/admin -u root -p *****</div></pre></td></tr></table></figure></p>
<h3 id="Java程序实现"><a href="#Java程序实现" class="headerlink" title="Java程序实现"></a>Java程序实现</h3><p>需下载mongodb的jdbc，下载链接：<a href="https://pan.baidu.com/s/1cH1NQY" target="_blank" rel="external">https://pan.baidu.com/s/1cH1NQY</a><br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> java.io.BufferedReader;</div><div class="line"><span class="keyword">import</span> java.io.File;</div><div class="line"><span class="keyword">import</span> java.io.FileReader;</div><div class="line"><span class="keyword">import</span> java.io.IOException;</div><div class="line"></div><div class="line"><span class="keyword">import</span> com.mongodb.BasicDBObject;</div><div class="line"><span class="keyword">import</span> com.mongodb.DB;</div><div class="line"><span class="keyword">import</span> com.mongodb.DBCollection;</div><div class="line"><span class="keyword">import</span> com.mongodb.Mongo;</div><div class="line"><span class="keyword">import</span> com.mongodb.MongoException;</div><div class="line"></div><div class="line"></div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Mongodb</span> </span>&#123;</div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> MongoException, IOException</span>&#123;</div><div class="line">		mongodb();</div><div class="line">	&#125;</div><div class="line">	</div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">mongodb</span><span class="params">()</span> <span class="keyword">throws</span> MongoException, IOException</span>&#123;</div><div class="line"></div><div class="line">        <span class="comment">//链接数据库</span></div><div class="line">        Mongo connection = <span class="keyword">new</span> Mongo(<span class="string">"127.0.0.1"</span>,<span class="number">27017</span>); <span class="comment">//url与端口</span></div><div class="line">        DB db = connection.getDB(<span class="string">"weiboUser"</span>);<span class="comment">//数据库名字</span></div><div class="line">        <span class="keyword">boolean</span> ok = db.authenticate(<span class="string">"root"</span>, <span class="string">"***"</span>.toCharArray());  <span class="comment">//认证过程，用户名（String）和密码（char[]）</span></div><div class="line"></div><div class="line">        <span class="keyword">if</span>(ok)&#123;</div><div class="line">            System.out.println(<span class="string">"db connection success!"</span>);</div><div class="line"></div><div class="line">            <span class="comment">//插入数据，mongodb的默认_id为主键，</span></div><div class="line">            <span class="comment">//在默认的情况下会自己添加哈希值，建议自定义_id，不然很可能会插入很多重复</span></div><div class="line">            DBCollection collection = db.getCollection(<span class="string">"Region"</span>); </div><div class="line">            <span class="comment">//最基本的属性</span></div><div class="line">            BasicDBObject attribute = <span class="keyword">new</span> BasicDBObject();</div><div class="line">            attribute.put(<span class="string">"_id"</span>, <span class="string">"5"</span>);</div><div class="line">            attribute.put(<span class="string">"电影名"</span>,<span class="string">"星球大战"</span>);</div><div class="line">           </div><div class="line">           <span class="comment">//地区（太多进行读取）</span></div><div class="line">           BasicDBObject region = <span class="keyword">new</span> BasicDBObject();</div><div class="line">           String path = <span class="string">"/home/hadoop/Seeing项目内容/result/属性/地区.txt"</span>;</div><div class="line">           String region_line;</div><div class="line">           BufferedReader br = <span class="keyword">new</span> BufferedReader(<span class="keyword">new</span> FileReader(<span class="keyword">new</span> File (path)));</div><div class="line">           <span class="keyword">while</span>((region_line = br.readLine()) != <span class="keyword">null</span>)&#123;</div><div class="line">        	   String[] result = region_line.split(<span class="string">","</span>);</div><div class="line">        	   region.put(result[<span class="number">0</span>], result[<span class="number">1</span>]);	   </div><div class="line">           &#125;</div><div class="line">           attribute.put(<span class="string">"地区"</span>, region);</div><div class="line">            collection.insert(attribute);</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">else</span>&#123;</div><div class="line">            System.out.println(<span class="string">"connection error"</span>);</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/02/15/Hadoop应用实例：提取网页元素/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="DilicelSten">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/uploads/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="DilicelSten's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/02/15/Hadoop应用实例：提取网页元素/" itemprop="url">
                  Hadoop应用实例：提取网页元素
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-02-15T09:37:57+08:00">
                2017-02-15
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>过了一个舒服的新年假期，可以继续卯足劲干活了~说实话还是有挺大收获的，之前在家休息时写过一篇关于Hadoop的博客，讲的Hadoop的简介、安装以及其两大重点：HDFS和MapReduce,这则博客则分享一下如何利用Hadoop的MApReduce去提取网页元素，一步步如何去攻克~（这是基于本机安装好Hadoop的情况下，如果还没安装可以参考我上一篇关于Hadoop的博客）</p>
<h2 id="Hadoop应用步骤"><a href="#Hadoop应用步骤" class="headerlink" title="Hadoop应用步骤"></a>Hadoop应用步骤</h2><h4 id="第一：切换-Map-Reduce-开发视图，选择-Window-菜单下选择-Open-Perspective-gt-Other，弹出一个窗体，从中选择-Map-Reduce-选项即可进行切换。"><a href="#第一：切换-Map-Reduce-开发视图，选择-Window-菜单下选择-Open-Perspective-gt-Other，弹出一个窗体，从中选择-Map-Reduce-选项即可进行切换。" class="headerlink" title="第一：切换 Map/Reduce 开发视图，选择 Window 菜单下选择 Open Perspective -&gt; Other，弹出一个窗体，从中选择 Map/Reduce 选项即可进行切换。"></a>第一：切换 Map/Reduce 开发视图，选择 Window 菜单下选择 Open Perspective -&gt; Other，弹出一个窗体，从中选择 Map/Reduce 选项即可进行切换。</h4><p><img src="http://cdn.powerxing.com/imgs/hadoop-build-project-using-eclipse-06.png" alt="此处输入图片的描述"></p>
<h4 id="第二：建立与-Hadoop-集群的连接，点击-Eclipse软件右下角的-Map-Reduce-Locations-面板，在面板中单击右键，选择-New-Hadoop-Location。"><a href="#第二：建立与-Hadoop-集群的连接，点击-Eclipse软件右下角的-Map-Reduce-Locations-面板，在面板中单击右键，选择-New-Hadoop-Location。" class="headerlink" title="第二：建立与 Hadoop 集群的连接，点击 Eclipse软件右下角的 Map/Reduce Locations 面板，在面板中单击右键，选择 New Hadoop Location。"></a>第二：建立与 Hadoop 集群的连接，点击 Eclipse软件右下角的 Map/Reduce Locations 面板，在面板中单击右键，选择 New Hadoop Location。</h4><p><img src="http://cdn.powerxing.com/imgs/hadoop-build-project-using-eclipse-07.png" alt="此处输入图片的描述"><br><img src="http://cdn.powerxing.com/imgs/hadoop-build-project-using-eclipse-08.png" alt="此处输入图片的描述"></p>
<h4 id="第三：建立与-Hadoop-集群的连接，开启NameNode-和-DataNode-守护进程。"><a href="#第三：建立与-Hadoop-集群的连接，开启NameNode-和-DataNode-守护进程。" class="headerlink" title="第三：建立与 Hadoop 集群的连接，开启NameNode 和 DataNode 守护进程。"></a>第三：建立与 Hadoop 集群的连接，开启NameNode 和 DataNode 守护进程。</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">cd /home/Hadoop   //先进入本机的Hadoop文件夹</div><div class="line">./sbin/start-dfs.sh   //开启服务</div></pre></td></tr></table></figure>
<h4 id="第四：新建一个MapReduce的Project"><a href="#第四：新建一个MapReduce的Project" class="headerlink" title="第四：新建一个MapReduce的Project"></a>第四：新建一个MapReduce的Project</h4><p>（1） New -&gt; Project…:<br>（2）选择 Map/Reduce Project，点击 Next<br>（3）接着右键点击刚创建的项目，选择 New -&gt; Class</p>
<h4 id="第五：将配置文件复制到项目下"><a href="#第五：将配置文件复制到项目下" class="headerlink" title="第五：将配置文件复制到项目下"></a>第五：将配置文件复制到项目下</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">cp /usr/local/hadoop/etc/hadoop/core-site.xml ~/workspace/UserVInfo/src</div><div class="line">cp /usr/local/hadoop/etc/hadoop/hdfs-site.xml ~/workspace/UserVInfo/src</div><div class="line">cp /usr/local/hadoop/etc/hadoop/log4j.properties ~/workspace/UserVInfo/src</div></pre></td></tr></table></figure>
<h4 id="第六：开始写代码了！！（这里使用Java语言编程）"><a href="#第六：开始写代码了！！（这里使用Java语言编程）" class="headerlink" title="第六：开始写代码了！！（这里使用Java语言编程）"></a>第六：开始写代码了！！（这里使用Java语言编程）</h4><p>PS：接下来我提供一些在我自己的Project中所用到的一些方法<br>(1)上传本地文件至hdfs<br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">uploadInputFile</span><span class="params">(String localFile)</span> <span class="keyword">throws</span> IOException</span>&#123;</div><div class="line">        Configuration conf = <span class="keyword">new</span> Configuration();</div><div class="line">        String hdfsPath = <span class="string">"hdfs://localhost:9000/"</span>;</div><div class="line">        String hdfsInput = <span class="string">"hdfs://localhost:9000/user/hadoop/input"</span>;</div><div class="line">        FileSystem fs = FileSystem.get(URI.create(hdfsPath), conf);</div><div class="line">        fs.copyFromLocalFile(<span class="keyword">new</span> Path(localFile), <span class="keyword">new</span> Path(hdfsInput));</div><div class="line">        fs.close();</div><div class="line">        System.out.println(<span class="string">"已经上传文件到input文件夹啦"</span>);</div><div class="line">    &#125;</div></pre></td></tr></table></figure></p>
<p>（2）因为项目需要循环操作，因此我找到一个方法，删除Input文件<br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">deleteInput</span><span class="params">()</span> <span class="keyword">throws</span> IOException</span>&#123;</div><div class="line">			Configuration conf = <span class="keyword">new</span> Configuration();</div><div class="line">			String hdfsInput = <span class="string">"hdfs://localhost:9000/user/hadoop/input"</span>;</div><div class="line">			String hdfsPath = <span class="string">"hdfs://localhost:9000/"</span>;</div><div class="line">			Path path = <span class="keyword">new</span> Path(hdfsInput);</div><div class="line">			FileSystem fs = FileSystem.get(URI.create(hdfsPath),conf);</div><div class="line">			fs.deleteOnExit(path);</div><div class="line">			fs.close();</div><div class="line">			System.out.println(<span class="string">"input文件已删除"</span>);</div><div class="line">		&#125;</div></pre></td></tr></table></figure></p>
<p>(3)但是循环需要新建Input文件，因此在上传文件的之前先新建一个input文件夹，在HDFS新建文件夹和其他的系统不一样<br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//在hdfs下新建文件夹</span></div><div class="line">Configuration conf = <span class="keyword">new</span> Configuration();</div><div class="line">FileSystem file = FileSystem.get(conf);</div><div class="line">file.mkdirs(<span class="keyword">new</span> Path(<span class="string">"/user/hadoop/input"</span>));</div></pre></td></tr></table></figure></p>
<p>PS:在Windows系统下新建文件夹的Java代码实现<br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//创建文件夹（不适用于hdfs即hadoop的文件系统）</span></div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">boolean</span> <span class="title">mkDirectory</span><span class="params">(String path)</span> </span>&#123;  </div><div class="line">        File file = <span class="keyword">null</span>;  </div><div class="line">        <span class="keyword">try</span> &#123;  </div><div class="line">            file = <span class="keyword">new</span> File(path);  </div><div class="line">            <span class="keyword">if</span> (!file .exists()  &amp;&amp; !file .isDirectory()) &#123;  </div><div class="line">               <span class="keyword">return</span> file.mkdirs();  </div><div class="line">            &#125;  </div><div class="line">            <span class="keyword">else</span>&#123;  </div><div class="line">                <span class="keyword">return</span> <span class="keyword">false</span>;  </div><div class="line">            &#125;  </div><div class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;  </div><div class="line">        &#125; <span class="keyword">finally</span> &#123;  </div><div class="line">            file = <span class="keyword">null</span>;  </div><div class="line">        &#125;  </div><div class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;  </div><div class="line">    &#125;</div></pre></td></tr></table></figure></p>
<p>(4)创建Mapper类和Reducer类<br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">UserVMapper</span> <span class="keyword">extends</span> <span class="title">Mapper</span>&lt;<span class="title">Object</span>, <span class="title">Text</span>, <span class="title">Text</span>, <span class="title">Text</span>&gt;</span>&#123;</div><div class="line"></div><div class="line">        <span class="keyword">private</span> Text userV = <span class="keyword">new</span> Text();</div><div class="line">        <span class="keyword">private</span> Text intro = <span class="keyword">new</span> Text();</div><div class="line"></div><div class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">map</span><span class="params">(Object key, Text value, Context context)</span> <span class="keyword">throws</span> IOException, InterruptedException</span>&#123;</div><div class="line">            String html = value.toString();</div><div class="line">            String block_regex = <span class="string">"&lt;li class=\"follow_item.*?&lt;/li&gt;"</span>;</div><div class="line">            Pattern pattern = Pattern.compile(block_regex);</div><div class="line">            Matcher matcher = pattern.matcher(html);</div><div class="line">            <span class="keyword">while</span>(matcher.find())&#123;</div><div class="line">            	String block = matcher.group();</div><div class="line">            	String[] userAndInfo = getUserAndInfo(block);</div><div class="line">            	<span class="keyword">if</span>(userAndInfo != <span class="keyword">null</span>)&#123;</div><div class="line">            		String user = userAndInfo[<span class="number">0</span>];</div><div class="line">            		String info = userAndInfo[<span class="number">1</span>];</div><div class="line">            		 userV.set(user);</div><div class="line">                     intro.set(info);</div><div class="line">                     context.write(userV, intro);</div><div class="line">            	&#125;     	</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">UserVReducer</span> <span class="keyword">extends</span> <span class="title">Reducer</span>&lt;<span class="title">Text</span>, <span class="title">Text</span>, <span class="title">Text</span>, <span class="title">Text</span>&gt;</span>&#123;</div><div class="line"></div><div class="line">        <span class="keyword">private</span> Text value = <span class="keyword">new</span> Text();</div><div class="line"></div><div class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">reduce</span><span class="params">(Text key, Iterable&lt;Text&gt; values, Context context)</span> <span class="keyword">throws</span> IOException, InterruptedException</span>&#123;</div><div class="line">        	String result = <span class="string">""</span>;</div><div class="line">        	<span class="keyword">for</span>(Text text: values)&#123;</div><div class="line">            	String one = <span class="keyword">new</span> String(text.toString());<span class="comment">//之前用getByte不行</span></div><div class="line">            	result += one;</div><div class="line">            &#125;</div><div class="line">        	value.set(result);</div><div class="line">        	context.write(key, value);</div><div class="line">        &#125;</div><div class="line">    &#125;</div></pre></td></tr></table></figure></p>
<p>(5)执行MapReduce程序<br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">runMapReduce</span><span class="params">(String [] args)</span> <span class="keyword">throws</span> Exception</span>&#123;</div><div class="line">		Configuration conf = <span class="keyword">new</span> Configuration();</div><div class="line">		String [] otherArgs = <span class="keyword">new</span> GenericOptionsParser(conf, args).getRemainingArgs();</div><div class="line">		<span class="keyword">if</span>(otherArgs.length != <span class="number">2</span>)&#123;</div><div class="line">			System.err.println(<span class="string">"Usage: wordcount&lt;in&gt; &lt;out&gt;"</span>);</div><div class="line">			System.exit(<span class="number">2</span>);</div><div class="line">		&#125;</div><div class="line">		Job job = <span class="keyword">new</span> Job(conf, <span class="string">"UserV"</span>);</div><div class="line">		job.setJarByClass(UserVinfo.class);</div><div class="line">		job.setMapperClass(UserVMapper.class);</div><div class="line">		job.setCombinerClass(UserVReducer.class);</div><div class="line">		job.setReducerClass(UserVReducer.class);</div><div class="line">		job.setOutputKeyClass(Text.class);</div><div class="line">		job.setOutputValueClass(Text.class);</div><div class="line">		FileInputFormat.addInputPath(job, <span class="keyword">new</span> Path(otherArgs[<span class="number">0</span>]));</div><div class="line">		FileOutputFormat.setOutputPath(job, <span class="keyword">new</span> Path(otherArgs[<span class="number">1</span>]));</div><div class="line">		<span class="keyword">if</span>(job.waitForCompletion(<span class="keyword">true</span>)==<span class="keyword">true</span>)&#123;</div><div class="line">			System.out.println(<span class="string">"mapReduce 执行完毕！"</span>);</div><div class="line">		&#125;</div><div class="line">	&#125;</div></pre></td></tr></table></figure></p>
<p>大致步骤如上，具体的代码可以参考我的github:<br><a href="https://github.com/Totoro1997/Hadoop/blob/master/UserVinfo.java" target="_blank" rel="external">https://github.com/Totoro1997/Hadoop/blob/master/UserVinfo.java</a></p>
<p>参考资料：使用Eclipse编译运行MapReduce程序 Hadoop2.6.0_Ubuntu/CentOS</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/02/04/解决微博动态加载的代码实现/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="DilicelSten">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/uploads/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="DilicelSten's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/02/04/解决微博动态加载的代码实现/" itemprop="url">
                  解决微博动态加载的代码实现
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-02-04T20:28:28+08:00">
                2017-02-04
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>假期爬取微博内容的时候遇到了不少麻烦，其中一个就是由于微博的改版，内容的呈现需要读者下拉加载出来，不然源代码中没有相应的内容，爬取时就会造成缺漏，针对这个问题，在使用selenium进行模拟登陆之余，也进行模拟滚动条的下拉，确实有了不错的效果，但是最大的坏处就是时间消耗太大了，如果有更好的方法希望进行交流~</p>
<h1 id="实现动态加载"><a href="#实现动态加载" class="headerlink" title="实现动态加载"></a>实现动态加载</h1><p>网上的资源也很多，这里提供Python和Java两种编程语言的代码实现</p>
<h3 id="Python版本"><a href="#Python版本" class="headerlink" title="Python版本"></a>Python版本</h3><p>（1）使用js脚本直接操作，方法如下<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">js=&quot;var q=document.getElementById(&apos;id&apos;).scrollTop=10000&quot;</div><div class="line">driver.execute_script(js）</div></pre></td></tr></table></figure></p>
<p>（2）使用js脚本拖动到提定地方<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">target = driver.find_element_by_id(&quot;id_keypair&quot;)</div><div class="line">driver.execute_script(&quot;arguments[0].scrollIntoView();&quot;, target) #拖动到可见的元素去</div></pre></td></tr></table></figure></p>
<p>（3）具体版本<br><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div></pre></td><td class="code"><pre><div class="line"><span class="comment">#coding=utf-8  </span></div><div class="line"><span class="keyword">from</span> selenium <span class="keyword">import</span> webdriver  </div><div class="line"><span class="comment">#访问微博 </span></div><div class="line">driver=webdriver.Firefox()  </div><div class="line">driver.get(<span class="string">"http://www.weibo.com"</span>)</div><div class="line"><span class="comment">#这里需要停一段时间进行登录（也可以自动输入账号密码）</span></div><div class="line"><span class="comment">#将页面滚动条拖到底部  </span></div><div class="line">js=<span class="string">"var q=document.documentElement.scrollTop=100000"</span>  </div><div class="line">driver.execute_script(js)  </div><div class="line">time.sleep(<span class="number">3</span>)  </div><div class="line"><span class="comment">#将滚动条移动到页面的顶部  </span></div><div class="line">js=<span class="string">"var q=document.documentElement.scrollTop=0"</span>  </div><div class="line">driver.execute_script(js)  </div><div class="line">time.sleep(<span class="number">3</span>)  </div><div class="line"><span class="comment">#将页面滚动条移动到页面任意位置，改变等于号后的数值即可  </span></div><div class="line">js=<span class="string">"var q=document.documentElement.scrollTop=50"</span>  </div><div class="line">driver.execute_script(js)  </div><div class="line">time.sleep(<span class="number">999999</span>)  </div><div class="line"><span class="string">''''' </span></div><div class="line">#若要对页面中的内嵌窗口中的滚动条进行操作，要先定位到该内嵌窗口，在进行滚动条操作 </div><div class="line">js="var q=document.getElementById('id').scrollTop=100000" </div><div class="line">driver.execute_script(js) </div><div class="line">time.sleep(3) </div><div class="line">'''  </div><div class="line">driver.quit()</div></pre></td></tr></table></figure></p>
<h3 id="Java版本"><a href="#Java版本" class="headerlink" title="Java版本"></a>Java版本</h3><p>Java与Python是类似的<br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//移动到元素element对象的“顶端”与当前窗口的“顶部”对齐  </span></div><div class="line">((JavascriptExecutor) driver).executeScript(<span class="string">"arguments[0].scrollIntoView();"</span>, element);  </div><div class="line">((JavascriptExecutor) driver).executeScript(<span class="string">"arguments[0].scrollIntoView(true);"</span>, element);  </div><div class="line">  </div><div class="line"><span class="comment">//移动到元素element对象的“底端”与当前窗口的“底部”对齐  </span></div><div class="line">((JavascriptExecutor) driver).executeScript(<span class="string">"arguments[0].scrollIntoView(false);"</span>, element);  </div><div class="line">  </div><div class="line"><span class="comment">//移动到页面最底部  </span></div><div class="line">((JavascriptExecutor) driver).executeScript(<span class="string">"window.scrollTo(0, document.body.scrollHeight)"</span>);  </div><div class="line">  </div><div class="line"><span class="comment">//移动到指定的坐标(相对当前的坐标移动)  </span></div><div class="line">((JavascriptExecutor) driver).executeScript(<span class="string">"window.scrollBy(0, 700)"</span>);  </div><div class="line">Thread.sleep(<span class="number">3000</span>);  </div><div class="line"><span class="comment">//结合上面的scrollBy语句，相当于移动到700+800=1600像素位置  </span></div><div class="line">((JavascriptExecutor) driver).executeScript(<span class="string">"window.scrollBy(0, 800)"</span>);  </div><div class="line">  </div><div class="line"><span class="comment">//移动到窗口绝对位置坐标，如下移动到纵坐标1600像素位置  </span></div><div class="line">((JavascriptExecutor) driver).executeScript(<span class="string">"window.scrollTo(0, 1600)"</span>);  </div><div class="line">Thread.sleep(<span class="number">3000</span>);  </div><div class="line"><span class="comment">//结合上面的scrollTo语句，仍然移动到纵坐标1200像素位置  </span></div><div class="line">((JavascriptExecutor) driver).executeScript(<span class="string">"window.scrollTo(0, 1200)"</span>);</div></pre></td></tr></table></figure></p>
<p>参考资料：<br>1.python中selenium操作下拉滚动条方法汇总<br>2.selenium_webdriver(python)控制浏览器滚动条<br>3.Java selenium web页面的滚动条操作</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/02/03/Redis-实现简单的分布式爬虫/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="DilicelSten">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/uploads/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="DilicelSten's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/02/03/Redis-实现简单的分布式爬虫/" itemprop="url">
                  Redis:实现简单的分布式爬虫
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-02-03T22:01:43+08:00">
                2017-02-03
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>假期在攻克爬虫期间，调转工作方式时有幸接触了redis，真心觉得它是一个好玩的东西，接下来就是我假期的一点点小收获吧~</p>
<h1 id="什么是redis"><a href="#什么是redis" class="headerlink" title="什么是redis"></a>什么是redis</h1><p>Redis 是完全开源免费的，遵守BSD协议，是一个高性能的key-value数据库。支持数据的持久化，可以将内存中的数据保存在磁盘中，重启的时候可以再次加载进行使用。还提供list，set，zset，hash等数据结构的存储。支持数据的备份，即master-slave模式的数据备份。</p>
<h1 id="redis实现分布式爬虫"><a href="#redis实现分布式爬虫" class="headerlink" title="redis实现分布式爬虫"></a>redis实现分布式爬虫</h1><p>按照我个人的理解，可以看下图：<br><img src="http://oh4g14vir.bkt.clouddn.com/redis.png" alt="此处输入图片的描述"><br>作为本地机的Master向平台投入相应的东西，由平台自动分配给其他的各个分机即slave，相互之间不会冲突，相当于一个老板丢工作给他的奴隶，不用他亲自上阵。<br>但是前提是需要在redis的数据平台中创建相应的队列即Queue存储Master投入的东西，给队列命名，方便后面的slave拿对东西。</p>
<h1 id="redis的使用（基于Ubuntu系统）"><a href="#redis的使用（基于Ubuntu系统）" class="headerlink" title="redis的使用（基于Ubuntu系统）"></a>redis的使用（基于Ubuntu系统）</h1><h4 id="1-下载redis"><a href="#1-下载redis" class="headerlink" title="1.下载redis"></a>1.下载redis</h4><p>进入官网：<a href="https://redis.io/download" target="_blank" rel="external">https://redis.io/download</a></p>
<h4 id="2-安装服务器"><a href="#2-安装服务器" class="headerlink" title="2.安装服务器"></a>2.安装服务器</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">sudo apt-get install redis-server</div></pre></td></tr></table></figure>
<h4 id="3-检查是否正常启动"><a href="#3-检查是否正常启动" class="headerlink" title="3.检查是否正常启动"></a>3.检查是否正常启动</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">redis-cli</div><div class="line"># 该命令会打开如下Redis提示:</div><div class="line">127.0.0.1:6379&gt; </div><div class="line"># 输入ping</div><div class="line">127.0.0.1:6379&gt; ping</div><div class="line">PONG</div><div class="line"># 说明成功安装</div></pre></td></tr></table></figure>
<h4 id="4-如果本机作为Master，需要进行一点修改"><a href="#4-如果本机作为Master，需要进行一点修改" class="headerlink" title="4.如果本机作为Master，需要进行一点修改"></a>4.如果本机作为Master，需要进行一点修改</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"># 安装redis后在本机会有一个redis文件</div><div class="line">cd etc/redis</div><div class="line">#  修改redis的配置（由于需要改变它的权限还可能不能被修改，因此直接开终端的编辑器）</div><div class="line">vi redis.conf</div><div class="line"># 将文件中的</div><div class="line"># bind 127.0.0.1的注释去掉即可</div></pre></td></tr></table></figure>
<h4 id="5-在分机需要进行步骤1、2，本机的服务器不能关闭"><a href="#5-在分机需要进行步骤1、2，本机的服务器不能关闭" class="headerlink" title="5.在分机需要进行步骤1、2，本机的服务器不能关闭"></a>5.在分机需要进行步骤1、2，本机的服务器不能关闭</h4><h4 id="6-细化操作"><a href="#6-细化操作" class="headerlink" title="6.细化操作"></a>6.细化操作</h4><p>（1）本机<br><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">host = <span class="string">'127.0.0.1'</span></div><div class="line">_db = redis.Reds(host=<span class="string">'localhost'</span>, port=<span class="number">6379</span>, db=<span class="number">0</span>)</div></pre></td></tr></table></figure></p>
<p>（2）分机<br><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">host = <span class="string">'本机的ＩＰ'</span></div><div class="line">_db = redis.Redis(host=<span class="string">'192.168.235.80'</span>)</div></pre></td></tr></table></figure></p>
<p>（３）查看本机的IP<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">ifconfig</div></pre></td></tr></table></figure></p>
<p>（4）出错了则杀死进程重新开启redis<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"># 查看进程</div><div class="line">ps</div><div class="line"># 杀死进行</div><div class="line">kill 进程号</div></pre></td></tr></table></figure></p>
<h4 id="7-具体代码实现"><a href="#7-具体代码实现" class="headerlink" title="7.具体代码实现"></a>7.具体代码实现</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># coding=utf-8</span></div><div class="line"><span class="keyword">import</span> urllib2</div><div class="line"><span class="keyword">import</span> re</div><div class="line"><span class="keyword">import</span> time</div><div class="line"><span class="keyword">import</span> redis</div><div class="line"></div><div class="line">headers = &#123;<span class="string">'User-Agent'</span>: <span class="string">'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Ubuntu Chromium/49.0.2623.108 Chrome/49.0.2623.108 Safari/537.36'</span>&#125;</div><div class="line">job_redis = redis.Redis(host=<span class="string">'192.168.235.80'</span>) <span class="comment"># host为主机的IP，port和db为默认值</span></div><div class="line"></div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Clawer</span><span class="params">(object)</span>:</span></div><div class="line"></div><div class="line">    identity = <span class="string">'master'</span>  <span class="comment"># 或slaver</span></div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self)</span>:</span></div><div class="line">        <span class="keyword">if</span> self.identity == <span class="string">'master'</span>:</div><div class="line">            <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">20</span>):  <span class="comment"># 将需爬取的糗事百科前20页的url并存入urls集合</span></div><div class="line">                url = <span class="string">'http://www.qiushibaike.com/hot/page/%d/'</span> % (i + <span class="number">1</span>)</div><div class="line">                job_redis.sadd(<span class="string">'urls'</span>, url)</div><div class="line">        self.main()</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">get_content</span><span class="params">(self)</span>:</span></div><div class="line">        <span class="string">"""</span></div><div class="line">        从糗事百科中获取故事</div><div class="line">        :return: 故事列表</div><div class="line">        """</div><div class="line">        stories = []</div><div class="line">        content_pattern = re.compile(<span class="string">'&lt;div class="content"&gt;([\w\W]*?)&lt;/div&gt;([\w\W]*?)class="stats"'</span>) <span class="comment"># 匹配故事内容（第一空）和是否含有图片（第二空）的模板</span></div><div class="line">        pattern = re.compile(<span class="string">'&lt;.*?&gt;'</span>) <span class="comment"># 匹配包括括号及括号内无关内容的模板</span></div><div class="line">        url = job_redis.spop(<span class="string">'urls'</span>)</div><div class="line">        <span class="keyword">while</span> url: <span class="comment"># 当数据库还存在网页url，取出一个并爬取</span></div><div class="line">            <span class="keyword">try</span>:</div><div class="line">                request = urllib2.Request(url, headers=headers)</div><div class="line">                response = urllib2.urlopen(request)</div><div class="line">                text = response.read()</div><div class="line">            <span class="keyword">except</span> urllib2.URLError, e: <span class="comment"># 若出现网页读取错误捕获并输出</span></div><div class="line">                <span class="keyword">if</span> hasattr(e, <span class="string">"reason"</span>):</div><div class="line">                    <span class="keyword">print</span> e.reason</div><div class="line">            content = re.findall(content_pattern, text) <span class="comment"># 获取含模板内容的列表</span></div><div class="line">            <span class="keyword">for</span> x <span class="keyword">in</span> content:</div><div class="line">                <span class="keyword">if</span> <span class="string">"img"</span> <span class="keyword">not</span> <span class="keyword">in</span> x[<span class="number">1</span>]: <span class="comment"># 过滤含图片的故事</span></div><div class="line">                    x = re.sub(pattern, <span class="string">''</span>, x[<span class="number">0</span>])</div><div class="line">                    x = re.sub(<span class="string">'\n'</span>, <span class="string">''</span>, x)</div><div class="line">                    stories.append(x)</div><div class="line">            url = job_redis.spop(<span class="string">'urls'</span>)</div><div class="line">            time.sleep(<span class="number">3</span>)</div><div class="line"></div><div class="line">        <span class="keyword">return</span> stories</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">main</span><span class="params">(self)</span>:</span></div><div class="line">        self.get_content()</div><div class="line"></div><div class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</div><div class="line">    Clawer()</div></pre></td></tr></table></figure>
<p>参考资料：<br>1.Python 用Redis简单实现分布式爬虫</p>
<p>对于redis的更深一步了解可以查看redis的官方教程~</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/02/03/Github简明教程/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="DilicelSten">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/uploads/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="DilicelSten's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/02/03/Github简明教程/" itemprop="url">
                  Github简明教程
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-02-03T20:38:02+08:00">
                2017-02-03
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>相信对程序猿来说，Github一点也不陌生，对于菜鸟级别的我也接触了一下，此博文专门为刚刚接触Github滴旁友们的一丝丝指引吧，网上的资料也很多，这里稍作整合~</p>
<h1 id="什么是Github"><a href="#什么是Github" class="headerlink" title="什么是Github"></a>什么是Github</h1><p>Github是一个基于git的代码托管平台，付费用户可以建私人仓库，我们一般的免费用户只能使用公共仓库，也就是代码要公开。作为一个开源协作社区，在GitHub上，利用Git极其强大的克隆和分支功能，既可以让别人参与你的开源项目，也可以参与别人的开源项目。</p>
<h1 id="Github的使用"><a href="#Github的使用" class="headerlink" title="Github的使用"></a>Github的使用</h1><h3 id="1-注册账户及创建仓库"><a href="#1-注册账户及创建仓库" class="headerlink" title="1.注册账户及创建仓库"></a>1.注册账户及创建仓库</h3><p>（1）进入官网，github官网地址：<a href="https://github.com/。" target="_blank" rel="external">https://github.com/。</a><br>（2）创建仓库，Create a New Repository，填好名称后Create，之后会出现一些仓库的配置信息。</p>
<h3 id="2-Github的安装"><a href="#2-Github的安装" class="headerlink" title="2.Github的安装"></a>2.Github的安装</h3><p>（1）Windows和Mac<br>之前我是直接使用网页版的Github，也可以下载专门的客户端，可在官网下载~<br>可以点击此链接：<a href="https://desktop.github.com/" target="_blank" rel="external">https://desktop.github.com/</a><br>（2）Linux<br>Ubuntu上直接使用命令行安装即可<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">sudo apt-get install git</div></pre></td></tr></table></figure></p>
<p>直接使用终端控制git会更加方便</p>
<h3 id="3-配置Git"><a href="#3-配置Git" class="headerlink" title="3.配置Git"></a>3.配置Git</h3><p>安装了客户端的话就需要进行这一步了，此外配置后终端操作时也就可以不输入账号密码直接push<br>（1）在本地创建ssh key<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ ssh-keygen -t rsa -C &quot;your_email@youremail.com&quot;</div></pre></td></tr></table></figure></p>
<p>双引号里面为你本人的账号<br>（2）确认路径和输入密码<br>这里就不涉及客户端的使用了，需要的话可以参考此链接：<a href="http://www.runoob.com/w3cnote/git-guide.html" target="_blank" rel="external">http://www.runoob.com/w3cnote/git-guide.html</a></p>
<h3 id="4-基本操作"><a href="#4-基本操作" class="headerlink" title="4.基本操作"></a>4.基本操作</h3><p>（1）创建一个本地仓库的克隆版本<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">git clone https://github.com/path</div></pre></td></tr></table></figure></p>
<p>（2）可以使用ls命令进行查看<br>（3）添加文件<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">git add Test.py</div></pre></td></tr></table></figure></p>
<p>（4）添加注释<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">git commit -m &quot;注释&quot;</div></pre></td></tr></table></figure></p>
<p>（5）上传文件<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">git push</div></pre></td></tr></table></figure></p>
<p>如果失败，可能是GitHub上的README.md不在本地，执行：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ git pull --rebase origin master # 合并</div></pre></td></tr></table></figure></p>
<p>在执行上面的push命令<br>PS：<br>git push命令会将本地仓库推送到远程服务器。<br>git pull命令则相反<br>（6）修改完代码后，使用git status可以查看文件的差别，可以用git add -i来智能添加文件。之后git commit提交本次修改，git push上传到github。</p>
<p>以上为最最基础的操作，相当于可以在Github上存储自己的代码并方便以后进行修改，当然Github的目的还是为了能够进行协作，折旧涉及到fork操作，这将在下一篇转载文章中体现。</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/01/23/Hadoop学习：HDFS和MapReduce/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="DilicelSten">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/uploads/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="DilicelSten's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/01/23/Hadoop学习：HDFS和MapReduce/" itemprop="url">
                  Hadoop学习：HDFS和MapReduce
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-01-23T20:25:19+08:00">
                2017-01-23
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>记得曾经问过一个师兄一个问题：要学好一种编程语言怎么做才好，怎样才能像你一样灵活运用？他跟我说：从头学到尾是很不切实际的，要边做项目边学是最快的~今天才真正体会这句话，趁着做项目，也接触了Hadoop，也对它有了初步的了解~</p>
<h1 id="关于Hadoop"><a href="#关于Hadoop" class="headerlink" title="关于Hadoop"></a>关于Hadoop</h1><p><strong>Hadoop</strong>是一个由Apache基金会所开发的分布式系统基础架构。用户可以在不了解分布式底层细节的情况下，开发分布式程序，充分利用集群的威力进行高速运算和存储。<br>Hadoop的框架最核心的设计就是：<strong>HDFS和MapReduce</strong>。<strong>HDFS</strong>为海量的数据提供了<strong>存储</strong>，相当于一个<strong>文件中转站</strong>的功能，而<strong>MapReduce</strong>为海量的数据提供了<strong>计算</strong>。但两者只是理论基础，不是具体可使用的高级应用，Hadoop旗下有很多经典子项目，比如<strong>HBase</strong>、<strong>Hive</strong>等，这些都是基于HDFS和MapReduce发展出来的。要想了解<strong>Hadoop</strong>，就必须知道<strong>HDFS</strong>和<strong>MapReduce</strong>是什么。</p>
<p>##（1）HDFS<br><strong>HDFS</strong>，英文为<strong>Hadoop Distributed File System</strong>，即分布式文件系统，功能相当于一个网盘或者中转站。<br>HDFS有<strong>高容错性</strong>的特点，并且设计用来部署在低廉的硬件上，就算在由高失败率的节点或网络组成的大集群内运行的作业，Hadoop都可以让作业成功完成。而且它提供<strong>高吞吐量</strong>（high throughput）来访问应用程序的数据，适合那些有着超大数据集（large data set）的应用程序。HDFS放宽了POSIX的要求，可以以<strong>流的形式</strong>访问（streaming access）文件系统中的数据。<br>PS：<br>（1）<strong>容错</strong>：<br>即是<strong>Fault Tolerance</strong>，确切地说是容故障（Fault），而并非容错误（Error）。Hadoop实现容错的主要方法就是重新执行任务，具体的可以查看此博客：<a href="http://blog.csdn.net/magicdreaming/article/details/7616531，在此不过多赘述。" target="_blank" rel="external">http://blog.csdn.net/magicdreaming/article/details/7616531，在此不过多赘述。</a><br>（2）<strong>吞吐量</strong>：<br>指在单位时间内中央处理器（CPU）从存储设备读取-&gt;处理-&gt;存储信息的量。<br>（3）<strong>流式数据访问</strong><br>HDFS应用需要流式访问它们的数据集。其更多考虑到了数据批处理，而不是用户交互处理。相比数据访问的低延迟，HDFS应用要求能够高速率、大批量地处理数据，极少有程序对单一的读写操作有严格的响应时间要求。POSIX标准设置的很多硬性约束对HDFS应用系统不是必需的。为了提高数据的吞吐量，在一些关键方面对POSIX的语义做了一些修改。<br>（4）<strong>POSIX</strong><br>POSIX表示可移植操作系统接口（Portable Operating System Interface ，缩写为 POSIX），POSIX标准定义了操作系统应该为应用程序提供的接口标准，是IEEE为要在各种UNIX操作系统上运行的软件而定义的一系列API标准的总称.</p>
<p>##（2）MapReduce<br><img src="http://oh4g14vir.bkt.clouddn.com/MapReduce.png" alt="此处输入图片的描述"><br>按个人理解，如图所示，MapReduce可以拆分成两个单词也是其两个主要操作，Map的话即地图，在这里为映射的意思，表示从众多的数据中匹配出所要的东西，而Reduce即减少，表示将匹配到的一个个数据进行统计整合成一个总的数据。<br>例如：<br>对大量数据中的性别进行匹配会得到：<br>女 1<br>女 1<br>女 1<br>…..<br>最终进行统计的结果就是一行：<br>女  1000<br>简单的说，Map是把一组数据一对一的映射为另外的一组数据，其映射的规则由一个函数来指定，比如对[1,2,3,4]进行乘2的映射就变成了[2,4,6,8]。Reduce是对一组数据进行归约，这个归约的规则由一个函数指定，比如对[1,2,3,4]进行求和的归约得到结果是10，而对它进行求积的归约结果是24。</p>
<h1 id="Hadoop的安装使用"><a href="#Hadoop的安装使用" class="headerlink" title="Hadoop的安装使用"></a>Hadoop的安装使用</h1><p>##（1）安装<br>那Hadoop既然这么好，该如何去用呢？<br>在此提供<strong>Ubuntu</strong>下Hadoop的安装博客：<br><a href="http://www.powerxing.com/install-hadoop/" target="_blank" rel="external">http://www.powerxing.com/install-hadoop/</a><br>其中详细说明了Hadoop的整个安装流程以及Hadoop的三种模式的配置方式：<br>（1）单机<br>（2）伪分布<br>（3）集群</p>
<p>##（2）使用<br>安装好了当然是要编写程序来实现了，在此使用Java进行实现，有相应的博客详细说明：<a href="http://www.powerxing.com/hadoop-build-project-using-eclipse/" target="_blank" rel="external">http://www.powerxing.com/hadoop-build-project-using-eclipse/</a><br>其中使用Eclipse编译运行MapReduce程序，包括从安装eclipse到编写程序的整个流程。</p>
<p>##（3）小tips<br>在我个人的安装使用的过程中也出现一些小毛病，在这里就跟大家分享一下遇到这些Problems时该如何去做呢？<br>（1）在赋予新用户权限的时候可能切换账户之后它依旧会说它没有权限，重新试了很多次还是没用，此时建议删除用户再重复操作<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">sudo adduser hadoop sudo</div></pre></td></tr></table></figure></p>
<p>（2）因为之前已经安装了Eclipse，配置的是1.8的JDK，但按流程的话，在这一步，$JAVA_HOME/bin/java -version的输出结果和java -version的输出结果<strong>不一样</strong>，这时不用怕，程序会进行最高默认。但在后面编写程序时报错，按照错误更改JDK的版本即可。<br>（3）在建立与 Hadoop 集群的连接，建立 New Hadoop Location的时候会发现文件夹没东西（不像图所示），其实是关闭了 NameNode 和 DataNode 守护进程。这时输入一下命令即可~<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">./sbin/start-dfs.sh</div></pre></td></tr></table></figure></p>
<p><img src="http://cdn.powerxing.com/imgs/hadoop-build-project-using-eclipse-10.png" alt="此处输入图片的描述"></p>
<h2 id="具体实现代码："><a href="#具体实现代码：" class="headerlink" title="具体实现代码："></a>具体实现代码：</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">package</span> org.apache.hadoop.examples;</div><div class="line"></div><div class="line"><span class="keyword">import</span> java.io.IOException;</div><div class="line"><span class="keyword">import</span> java.util.StringTokenizer;</div><div class="line"><span class="keyword">import</span> java.util.regex.Matcher;</div><div class="line"><span class="keyword">import</span> java.util.regex.Pattern;</div><div class="line"></div><div class="line"><span class="keyword">import</span> org.apache.hadoop.conf.Configuration;</div><div class="line"><span class="keyword">import</span> org.apache.hadoop.fs.Path;</div><div class="line"><span class="keyword">import</span> org.apache.hadoop.io.IntWritable;</div><div class="line"><span class="keyword">import</span> org.apache.hadoop.io.Text;</div><div class="line"><span class="keyword">import</span> org.apache.hadoop.mapreduce.Job;</div><div class="line"><span class="keyword">import</span> org.apache.hadoop.mapreduce.Mapper;</div><div class="line"><span class="keyword">import</span> org.apache.hadoop.mapreduce.Reducer;</div><div class="line"><span class="keyword">import</span> org.apache.hadoop.mapreduce.lib.input.FileInputFormat;</div><div class="line"><span class="keyword">import</span> org.apache.hadoop.mapreduce.lib.output.FileOutputFormat;</div><div class="line"><span class="keyword">import</span> org.apache.hadoop.util.GenericOptionsParser;</div><div class="line"></div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">WordCount</span> </span>&#123;</div><div class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">TokenizerMapper</span> <span class="keyword">extends</span> <span class="title">Mapper</span>&lt;<span class="title">Object</span>, <span class="title">Text</span>, <span class="title">Text</span>, <span class="title">IntWritable</span>&gt;</span>&#123;</div><div class="line"></div><div class="line">        <span class="keyword">private</span> <span class="keyword">final</span> <span class="keyword">static</span> IntWritable one = <span class="keyword">new</span> IntWritable(<span class="number">1</span>);</div><div class="line">        <span class="keyword">private</span> Text word = <span class="keyword">new</span> Text();</div><div class="line"></div><div class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">map</span><span class="params">(Object key, Text value, Context context)</span> <span class="keyword">throws</span> IOException, InterruptedException</span>&#123;</div><div class="line">            String line = value.toString();</div><div class="line">            line = line.replace(<span class="string">"\\"</span>, <span class="string">""</span>);</div><div class="line">            String regex = <span class="string">"性别：&lt;/span&gt;&lt;span class=\"pt_detail\"&gt;(.*?)&lt;/span&gt;"</span>;</div><div class="line">            Pattern pattern = Pattern.compile(regex);</div><div class="line">            Matcher matcher = pattern.matcher(line);</div><div class="line">            <span class="keyword">while</span>(matcher.find())&#123;</div><div class="line">                String term = matcher.group(<span class="number">1</span>);</div><div class="line">                word.set(term);</div><div class="line">                context.write(word, one);</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">IntSumReducer</span> <span class="keyword">extends</span> <span class="title">Reducer</span>&lt;<span class="title">Text</span>, <span class="title">IntWritable</span>, <span class="title">Text</span>, <span class="title">IntWritable</span>&gt;</span>&#123;</div><div class="line"></div><div class="line">        <span class="keyword">private</span> IntWritable result = <span class="keyword">new</span> IntWritable();</div><div class="line"></div><div class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">reduce</span><span class="params">(Text key, Iterable&lt;IntWritable&gt; values, Context context)</span> <span class="keyword">throws</span> IOException, InterruptedException</span>&#123;</div><div class="line">            <span class="keyword">int</span> sum = <span class="number">0</span>;</div><div class="line">            <span class="keyword">for</span>(IntWritable val :values)&#123;</div><div class="line">                sum+= val.get();</div><div class="line">            &#125;</div><div class="line">            result.set(sum);</div><div class="line">            context.write(key, result);</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception </span>&#123;</div><div class="line">        Configuration conf = <span class="keyword">new</span> Configuration();</div><div class="line">        String[] otherArgs = <span class="keyword">new</span> GenericOptionsParser(conf, args).getRemainingArgs();</div><div class="line">        <span class="keyword">if</span>(otherArgs.length != <span class="number">2</span>)&#123;</div><div class="line">            System.err.println(<span class="string">"Usage: wordcount &lt;in&gt; &lt;out&gt;"</span>);</div><div class="line">            System.exit(<span class="number">2</span>);</div><div class="line">        &#125;</div><div class="line">        Job job = <span class="keyword">new</span> Job(conf, <span class="string">"word count"</span>);</div><div class="line">        job.setJarByClass(WordCount.class);</div><div class="line">        job.setMapperClass(TokenizerMapper.class);</div><div class="line">        job.setCombinerClass(IntSumReducer.class);</div><div class="line">        job.setReducerClass(IntSumReducer.class);</div><div class="line">        job.setOutputKeyClass(Text.class);</div><div class="line">        job.setOutputValueClass(IntWritable.class);</div><div class="line">        FileInputFormat.addInputPath(job, <span class="keyword">new</span> Path(otherArgs[<span class="number">0</span>]));</div><div class="line">        FileOutputFormat.setOutputPath(job, <span class="keyword">new</span> Path(otherArgs[<span class="number">1</span>]));</div><div class="line">        System.exit(job.waitForCompletion(<span class="keyword">true</span>)?<span class="number">0</span>:<span class="number">1</span>);</div><div class="line">    &#125;</div><div class="line"></div><div class="line"></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>###Hadoop的分享就先停一步，等待继续攻克~</p>
<p>参考资料：<br>（1）Hadoop的容错性<br>（2）Hadoop简介：HDFS和MapReduce的实现</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2016/12/18/linux命令/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="DilicelSten">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/uploads/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="DilicelSten's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/12/18/linux命令/" itemprop="url">
                  关于Linux的常用命令
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2016-12-18T19:17:48+08:00">
                2016-12-18
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>在上一篇转载的关于使用selenium爬取微博内容的博文中，我也加了一些东西在里面，就是在安装selenium后的权限问题，之前还把chmod命令给写错了，刚好最近上操作系统实验课讲解Linux常用命令的内容。本博文就作为自己的学习笔记嘻嘻，欢迎交流~</p>
<h2 id="关于Linux"><a href="#关于Linux" class="headerlink" title="关于Linux"></a>关于Linux</h2><pre><code>Linux是一个分时、多用户、多任务的操作系统。它具有精简的核心。Linux提供两种用户界面：一种是交互命令，即用户在终端上通过使用命令交互调用核外程序；另一种是系统调用，即用户编写程序时通过使用C语言的函数调用来调用系统核心功能。
</code></pre><h2 id="Linux基本命令"><a href="#Linux基本命令" class="headerlink" title="Linux基本命令"></a>Linux基本命令</h2><table>
<thead>
<tr>
<th>命令</th>
<th>解释</th>
<th>用法</th>
</tr>
</thead>
<tbody>
<tr>
<td>ls</td>
<td>显示某一个目录下的内容（文件和目录）</td>
<td>ls  或者 ls 目录</td>
</tr>
<tr>
<td>ls -l</td>
<td>详细显示</td>
<td>ls -l（注：l是字母，不是数字1）或者ls -l 目录</td>
</tr>
<tr>
<td>ls -a</td>
<td>显示所有的文件</td>
<td>ls -a或者ls -a 目录(PS:以.开始的文件为隐藏文件，此时也会显示，其他情况下不显示)</td>
</tr>
<tr>
<td>cp</td>
<td>复制文件</td>
<td>cp 原文件 目标文件</td>
</tr>
<tr>
<td>cp -r</td>
<td>复制整个目录</td>
<td>cp -r 原目录 目标目录（注：目录下的所有文件都会复制）</td>
</tr>
<tr>
<td>mv</td>
<td>移动文件或者目录</td>
<td>和cp用法类似，但是移动后，原文件或者目录不存在（注：移动目录时不用-r参数）</td>
</tr>
<tr>
<td>touch</td>
<td>创建文件</td>
<td>touch 文件名</td>
</tr>
<tr>
<td>mkdir</td>
<td>创建目录</td>
<td>mkdir 目录名</td>
</tr>
<tr>
<td>rm</td>
<td>删除文件</td>
<td>rm 文件名</td>
</tr>
<tr>
<td>rm -r</td>
<td>删除目录</td>
<td>rm -r 目录名</td>
</tr>
<tr>
<td>rmdir</td>
<td>删除空的目录</td>
<td>rmdir 目录名</td>
</tr>
<tr>
<td>cd</td>
<td>改变目录路径</td>
<td>cd 目录名</td>
</tr>
<tr>
<td>cd ..</td>
<td>到上一层目录中</td>
<td>cd ..</td>
</tr>
<tr>
<td>cd /</td>
<td>到根目录下</td>
<td>cd /</td>
</tr>
<tr>
<td>pwd</td>
<td>显示当前的目录路径</td>
<td>pwd</td>
</tr>
<tr>
<td>cat</td>
<td>查看文件内容</td>
<td>cat 文件名</td>
</tr>
<tr>
<td>more</td>
<td>查看较长内容的文件</td>
<td>more 文件名（注：在显示中，按空格键滚动一页，按回车键滚动一行，按q键退出）</td>
</tr>
<tr>
<td>less</td>
<td>查看较长内容的文件</td>
<td>与more类似（Pgup、Pgdown、y向上滚动一行）</td>
</tr>
<tr>
<td>clear</td>
<td>q清除当前屏幕</td>
<td>clear</td>
</tr>
<tr>
<td>wc</td>
<td>统计文件，给出文件的行数、字数、字符数</td>
<td>wc 文件名</td>
</tr>
<tr>
<td>grep</td>
<td>过滤文本</td>
<td>grep string 只显示具有string的行</td>
</tr>
<tr>
<td>grep string -r</td>
<td>搜索文本</td>
<td>grep string -r 目录名</td>
</tr>
<tr>
<td>date</td>
<td>显示系统运行时间</td>
<td>date</td>
</tr>
<tr>
<td>exit</td>
<td>退出登录系统</td>
<td>exit</td>
</tr>
<tr>
<td>ctrl+C</td>
<td>中止程序执行</td>
<td>….</td>
</tr>
<tr>
<td>ctrl+D</td>
<td>退出系统</td>
<td>……</td>
</tr>
<tr>
<td>&gt;</td>
<td>输出由屏幕重定向到文件中，文件原来内容被清空</td>
<td>命令 &gt; 文件名</td>
</tr>
<tr>
<td>》</td>
<td>输出由屏幕重定向到文件的末尾的，文件原来内容被保留</td>
<td>类似&gt;，只是保留了原来的内容</td>
</tr>
<tr>
<td>&lt;</td>
<td>输入重定向，由文件的内容代替键盘输入</td>
<td>命令 &lt; 文件名</td>
</tr>
<tr>
<td>.</td>
<td>当前目录</td>
<td></td>
</tr>
<tr>
<td>..</td>
<td>上一目录</td>
</tr>
</tbody>
</table>
<p>以上都是比较基础且常用到的命令，如果有需要的话可以搜索Linux的命令大全（<a href="http://www.runoob.com/linux/linux-command-manual.html" target="_blank" rel="external">点击这里</a>）<br>接下来的话我想详细的说说之前被我弄错的一个命令——chmod</p>
<h3 id="chmod命令"><a href="#chmod命令" class="headerlink" title="chmod命令"></a>chmod命令</h3><p>chmod为改变文件权限。在linux中，一个文件上有可读（r）可写（w）<br>可执行（x）三种模式，分别针对该文件的拥有者（owner）、同组者（group）、和其他人（other）。一个文件如果改成可执行模式则系统就将其视为一个可执行文件，而一个目录的可执行模式代表使用者有进入该目录的权利。chmod就是用来变更一些文件的模式，其使用方式如下：<br>1）<strong>数字</strong><br>按照拥有者、同组者、其他人的顺序，给出一个三位的数字，r为4，w为2，x为1，例如765第一个数字7表示拥有者具有r+w+x的权限（7=4+2+1）,第二个数字6表示同组者具有r+w权限（6=4+2），第三个数字5表示其他人具有r+x权限（5=4+1）。<br><strong>用法：</strong><br>chmod 765 文件名<br>可将其中的数字更改为所需要的权限即可。<br>2）<strong>字母</strong><br><strong>用法：</strong> chmod [ugo]+/-[rwx] 文件名<br><strong>例如：</strong> chmod u+r /home/totoro/test<br>           chmod ug+rx /home/totoro/test</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
  </section>

  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="extend next" rel="next" href="/page/2/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      

      <section class="site-overview sidebar-panel sidebar-panel-active">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/uploads/avatar.jpg"
               alt="DilicelSten" />
          <p class="site-author-name" itemprop="name">DilicelSten</p>
           
              <p class="site-description motion-element" itemprop="description">Keep moving</p>
          
        </div>
        <nav class="site-state motion-element">

          
            <div class="site-state-item site-state-posts">
              <a href="/archives">
                <span class="site-state-item-count">14</span>
                <span class="site-state-item-name">日志</span>
              </a>
            </div>
          

          

          
            
            
            <div class="site-state-item site-state-tags">
              
                <span class="site-state-item-count">15</span>
                <span class="site-state-item-name">标签</span>
              
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
        </div>

        
        

        
        

        


      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2017</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">DilicelSten</span>
</div>


<div class="powered-by">
  由 <a class="theme-link" href="https://hexo.io">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Pisces
  </a>
</div>


        

        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  






  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.0"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.0"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.0"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.0"></script>



  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.0"></script>



  


  




	





  





  





  






  





  

  

  

  

</body>
</html>
